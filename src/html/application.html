<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../output.css">
    <script src="https://kit.fontawesome.com/c588e117e7.js" crossorigin="anonymous"></script>
    <title>CAREPLUS+ || Your no1 healthcare agent</title>
</head>

<body class="w-[100vw] overflow-hidden">
    <div class="w-[100vw] h-[100vh] overflow-hidden bg-gray-900 text-white flex flex-col lg:flex-row ">
        <div class='flex flex-col justify-center items-center w-[100vw] lg:w-[70vw]'>
            <div class="mt-8">
                <img src="../../images/Logo.svg" alt="">
            </div>

            <div>
                Hey there ðŸ‘‹
                <p>Request a new appointment in 10 seconds.</p>
            </div>

            <form class="rounded-lg p-6" id="appointmentForm">
                <div class="mb-4 relative">
                    <label for="doctor" class="block text-white font-bold mb-2">Doctor</label>
                    <input type="text" id="doctor" name="doctor"
                        class="border bg-gray-800 border-white w-90vw lg:w-[60vw] h-[3em] rounded-xl pl-8"
                        placeholder="Select a doctor" autocomplete="off" readonly>
                    <div class="absolute inset-y-0 right-0 flex items-center px-2">
                        <svg class="w-4 h-4 cursor-pointer" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg" id="doctorDropdownToggle">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414L11.414 12l2.828 2.828a1 1 0 01-1.414 1.414L10 13.414l-3.293 3.293a1 1 0 01-1.414-1.414L8.586 12l-2.828-2.828a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <ul class="absolute hidden mt-2 w-full rounded-md shadow-lg bg-white text-black"
                        id="doctorDropdown">
                        <li class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">Dr. Sarah
                            Safari</li>
                        <li class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">Dr. Ava
                            Williams</li>
                        <li class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">Dr. Adam
                            Smith</li>
                    </ul>
                </div>

                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="mb-4">
                        <label for="reason" class="block text-white font-bold mb-2">Reason for Appointment</label>
                        <textarea id="reason" name="reason"
                            class="border bg-gray-800 border-white w-90vw lg:w-[29vw] h-[8em] rounded-xl pl-8"></textarea>
                    </div>
                    <div class="mb-4">
                        <label for="comments" class="block text-white font-bold mb-2">Additional Comments</label>
                        <textarea id="comments" name="comments"
                            class="border bg-gray-800 border-white w-90vw lg:w-[29vw] h-[8em] rounded-xl pl-8"></textarea>
                    </div>
                </div>

                <div class="mb-4">
                    <label for="date" class="block text-white font-bold mb-2">Expected Appointment Date</label>
                    <input type="date" id="date" name="date"
                        class="border bg-gray-800 border-white w-90vw lg:w-[60vw] h-[3em] rounded-xl px-4">
                </div>

                <button type="submit" class="h-[3em] w-[80vw] lg:w-[60vw] bg-green-400 rounded-xl my-4">Submit and
                    Continue</button>
            </form>
        </div>
        <div class="w-[30vw]">
            <img class="w-[30vw]" src="../../../images/appointment.png">
        </div>
    </div>

    <script>
        // Dropdown toggle functionality
        const doctorInput = document.getElementById('doctor');
        const doctorDropdownToggle = document.getElementById('doctorDropdownToggle');
        const doctorDropdown = document.getElementById('doctorDropdown');

        doctorDropdownToggle.addEventListener('click', () => {
            doctorDropdown.classList.toggle('hidden');
        });

        // Selecting a doctor from the dropdown
        const dropdownItems = doctorDropdown.querySelectorAll('li');
        dropdownItems.forEach(item => {
            item.addEventListener('click', () => {
                doctorInput.value = item.textContent;
                doctorDropdown.classList.add('hidden');
            });
        });

        // Form validation and submission
            const appointmentForm = document.getElementById('appointmentForm');
            appointmentForm.addEventListener('submit', function (e) {
                e.preventDefault();

                // Validate form fields
                const doctor = doctorInput.value.trim();
                const reason = document.getElementById('reason').value.trim();
                const date = document.getElementById('date').value.trim();

                if (doctor === '' || reason === '' || date === '') {
                    alert('Please fill in all required fields.');
                } else {
                    // Store form data in localStorage
                    localStorage.setItem('doctor', doctor);
                    localStorage.setItem('reason', reason);
                    localStorage.setItem('date', date);

                    // Redirect to the approve page
                    window.location.href = "./approve.html";
                }
            });

    </script>
</body>

</html>